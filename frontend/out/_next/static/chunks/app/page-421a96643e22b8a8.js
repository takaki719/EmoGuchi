(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3136:function(e,t,o){Promise.resolve().then(o.bind(o,7738))},7738:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Home}});var r=o(7437),a=o(2265),s=o(4033),n=o(2979),i=o(879);function LanguageSwitcher(){let{locale:e,setLocale:t}=(0,n.E)(),o=i.I[e];return(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("button",{onClick:()=>t("ja"===e?"en":"ja"),className:"flex items-center gap-1 sm:gap-2 px-2 py-1.5 sm:px-3 sm:py-2 bg-white/80 dark:bg-slate-800/80 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-all duration-200 text-xs sm:text-sm backdrop-blur-sm border border-white/20 dark:border-slate-700/50 shadow-sm hover:shadow-md text-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-transparent",title:o.common.language,children:[(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"\uD83C\uDF10"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"ja"===e?"日本語":"English"}),(0,r.jsx)("span",{className:"sm:hidden text-xs",children:"ja"===e?"JP":"EN"})]})})}function Home(){let[e,t]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),h=(0,s.useRouter)(),{locale:x}=(0,n.E)(),f=i.I[x],validateInputs=()=>{let t=!0;return u(""),p(""),e.trim()?e.trim().length<2&&(u("プレイヤー名は2文字以上で入力してください"),t=!1):(u("プレイヤー名を入力してください"),t=!1),o.trim()&&o.trim().length<3&&(p("合言葉は3文字以上で入力してください"),t=!1),t},createRoom=async()=>{if(validateInputs()){c(!0);try{let t={mode:"basic",vote_type:"4choice",speaker_order:"sequential",max_rounds:1};o.trim()&&(t.room_id=o.trim());let r=await fetch("".concat("http://localhost:8000","/api/v1/rooms"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){let e=await r.json().catch(()=>({detail:"Failed to create room"}));throw Error(e.detail||"Failed to create room")}let a=await r.json();a.isExistingRoom?h.push("/room/".concat(encodeURIComponent(a.roomId),"?name=").concat(encodeURIComponent(e))):(localStorage.setItem("hostToken",a.hostToken),h.push("/room/".concat(encodeURIComponent(a.roomId),"?name=").concat(encodeURIComponent(e),"&host=true")))}catch(e){console.error("Error creating room:",e),alert("".concat("ja"===x?"ルームの作成に失敗しました":"Failed to create room",": ").concat(e.message))}finally{c(!1)}}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-purple-900 transition-colors duration-300",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 rounded-2xl shadow-2xl dark:shadow-slate-900/50 overflow-hidden relative backdrop-blur-sm border border-white/20 dark:border-slate-700/50 transform hover:scale-[1.02] transition-all duration-300",children:[(0,r.jsx)("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 z-10",children:(0,r.jsx)(LanguageSwitcher,{})}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white p-8 text-center relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-sm"}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent drop-shadow-lg",children:f.home.title}),(0,r.jsx)("p",{className:"text-blue-100/90 text-lg font-medium",children:f.home.subtitle})]})]}),(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"playerName",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:f.home.playerName}),(0,r.jsx)("input",{type:"text",id:"playerName",value:e,onChange:e=>{t(e.target.value),m&&u("")},className:"w-full px-4 py-3 border ".concat(m?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"," bg-white dark:bg-slate-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 ").concat(m?"focus:ring-red-500":"focus:ring-blue-500 dark:focus:ring-blue-400"," focus:border-transparent transition-all duration-200 hover:border-gray-400 dark:hover:border-gray-500"),placeholder:f.home.playerNamePlaceholder,maxLength:20}),m&&(0,r.jsx)("div",{className:"text-red-500 dark:text-red-400 text-sm mt-1 animate-fade-in",children:m})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"customRoomId",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:f.home.customRoomId}),(0,r.jsx)("input",{type:"text",id:"customRoomId",value:o,onChange:e=>{l(e.target.value),g&&p("")},className:"w-full px-4 py-3 border ".concat(g?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"," bg-white dark:bg-slate-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 ").concat(g?"focus:ring-red-500":"focus:ring-blue-500 dark:focus:ring-blue-400"," focus:border-transparent transition-all duration-200 hover:border-gray-400 dark:hover:border-gray-500"),placeholder:f.home.customRoomIdPlaceholder,maxLength:20}),g&&(0,r.jsx)("div",{className:"text-red-500 dark:text-red-400 text-sm mt-1 animate-fade-in",children:g}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"ja"===x?"空欄で新規作成、入力で既存ルームに参加":"Leave blank to create new room, enter to join existing room"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("button",{onClick:createRoom,disabled:!e.trim()||d||!!m||!!g,className:"group w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-4 px-6 rounded-xl disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 font-medium text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"}),(0,r.jsx)("div",{className:"relative z-10",children:d?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),(0,r.jsx)("span",{className:"animate-pulse",children:o.trim()?"ja"===x?"参加中...":"Joining...":"ja"===x?"作成中...":"Creating..."})]}):(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)("span",{className:"mr-2 transform group-hover:scale-110 transition-transform",children:o.trim()?"\uD83D\uDEAA":"\uD83C\uDFAE"}),o.trim()?f.home.joinRoom:f.home.createRoom]})})]}),(0,r.jsxs)("button",{onClick:()=>h.push("/solo"),className:"group w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-4 px-6 rounded-xl transition-all duration-200 font-medium text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"}),(0,r.jsxs)("div",{className:"relative z-10 flex items-center justify-center",children:[(0,r.jsx)("span",{className:"mr-2 transform group-hover:rotate-12 transition-transform duration-200",children:"\uD83C\uDFAD"}),"ja"===x?"ソロ演技モード":"Solo Acting Mode"]})]})]}),(0,r.jsx)("div",{className:"mt-8 text-center text-sm text-gray-500 dark:text-gray-400",children:(0,r.jsx)("p",{children:"ja"===x?(0,r.jsxs)(r.Fragment,{children:["スピーカーは指定された感情とセリフで演技し、",(0,r.jsx)("br",{}),"リスナーは感情を推理するゲームです"]}):(0,r.jsxs)(r.Fragment,{children:["Speakers perform with given emotions and scripts,",(0,r.jsx)("br",{}),"Listeners guess the emotions"]})})})]})]})})}},879:function(e,t,o){"use strict";o.d(t,{I:function(){return r}});let r={ja:{common:{roomId:"合言葉",copy:"コピー",copied:"コピー済み",exit:"退出",settings:"設定変更",save:"設定を保存",cancel:"キャンセル",phase:"フェーズ",waiting:"待機中",inRound:"ラウンド中",result:"結果発表",players:"プレイヤー",you:"あなた",speaker:"スピーカー",correct:"正解",incorrect:"不正解",points:"ポイント獲得！",noPoints:"今回はポイントなし",currentScore:"現在のスコア",language:"言語",error:"エラー",backToHome:"ホームに戻る",connecting:"サーバーに接続中...",joiningRoom:"ルームに参加中...",copyRoomCode:"合言葉をコピー",leaveRoomConfirm:"本当にルームから退出しますか？",noHostPrivileges:"ホスト権限がありません",settingsUpdated:"設定を更新しました",settingsUpdateFailed:"設定の更新に失敗しました",loadingRoundData:"ラウンドデータを読み込み中...",rank:"位"},home:{title:"EMOGUCHI",subtitle:"声の感情推理ゲーム",createRoom:"ルーム作成",joinRoom:"ルーム参加",customRoomId:"カスタム合言葉（任意）",customRoomIdPlaceholder:"例: たのしいゲーム",playerName:"プレイヤー名",playerNamePlaceholder:"例: 田中太郎",roomIdToJoin:"参加する合言葉",roomIdPlaceholder:"例: あいうえお123",gameMode:"感情モード",basicMode:"基本感情 (4択)",advancedMode:"応用感情 (8択)",speakerOrder:"発言順",sequential:"順番",random:"ランダム",maxRounds:"ラウンド数",rounds:"周"},game:{waitingForHost:"ホストがゲームを開始するのを待っています...",currentSettings:"現在の設定",gameStart:"ゲーム開始",minimumPlayers:"2人以上必要",starting:"開始中...",youAreSpeaker:"あなたがスピーカーです",performWith:"演技してください:",script:"セリフ:",emotion:"感情:",speakerInstruction:"この感情でセリフを読み上げてください。他の参加者があなたの感情を推測します。",guessEmotion:"感情を推測してください:",vote:"投票する",voteComplete:"投票完了！",yourVote:"あなたの投票:",waitingForOthers:"他のプレイヤーを待っています...",resultAnnouncement:"結果発表",correctAnswer:"正解:",yourAnswer:"あなたの投票:",nextRound:"次のラウンドへ",preparing:"準備中...",gameEnd:"ゲーム終了！",finalResults:"最終結果発表",ranking:"順位表",totalRounds:"全{rounds}ラウンドお疲れ様でした！",nextGameSettings:"次のゲーム設定",playAgain:"もう一度プレイ",resetMessage:"スコアをリセットして新しいゲームを開始します",waitingForNextGame:"ホストが次のゲームを開始するのを待っています...",youWereSpeaker:"あなたはスピーカーでした",speakerIs:"スピーカー:",listenAndGuess:"スピーカーが演技するのを聞いて、感情を推測してください",youAreSpeakerTitle:"\uD83C\uDFAD あなたがスピーカーです",speakerInstructions:"この感情でセリフを読み上げてください。他の参加者があなたの感情を推測します。",correctEmoji:"\uD83C\uDF89 正解！",incorrectEmoji:"❌ 不正解",yourVoteLabel:"あなたの投票:",correctAnswerLabel:"正解:",pointsEarned:"+1ポイント獲得！",noPointsThisTime:"今回はポイントなし",roundProgress:"ラウンド",nextRoundArrow:"➡️ 次のラウンドへ",gameEndEmoji:"\uD83C\uDF89 ゲーム終了！",roundsCompleted:"ラウンド完了",cyclesCompleted:"サイクル完了",finalResultsEmoji:"\uD83C\uDFC6 最終結果発表",allRoundsComplete:"全{rounds}ラウンドお疲れ様でした！",playAgainEmoji:"\uD83D\uDD04 もう一度プレイ",peopleCounter:"名"},emotions:{joy:"喜び",anger:"怒り",sadness:"悲しみ",surprise:"驚き",fear:"恐れ",disgust:"嫌悪",trust:"信頼",anticipation:"期待"}},en:{common:{roomId:"Room Code",copy:"Copy",copied:"Copied",exit:"Exit",settings:"Settings",save:"Save Settings",cancel:"Cancel",phase:"Phase",waiting:"Waiting",inRound:"In Round",result:"Results",players:"Players",you:"You",speaker:"Speaker",correct:"Correct",incorrect:"Incorrect",points:"Points earned!",noPoints:"No points this time",currentScore:"Current Score",language:"Language",error:"Error",backToHome:"Back to Home",connecting:"Connecting to server...",joiningRoom:"Joining room...",copyRoomCode:"Copy room code",leaveRoomConfirm:"Are you sure you want to leave the room?",noHostPrivileges:"No host privileges",settingsUpdated:"Settings updated",settingsUpdateFailed:"Failed to update settings",loadingRoundData:"Loading round data...",rank:"th"},home:{title:"EMOGUCHI",subtitle:"Voice Emotion Guessing Game",createRoom:"Create Room",joinRoom:"Join Room",customRoomId:"Custom Room Code (Optional)",customRoomIdPlaceholder:"e.g. FunGame123",playerName:"Player Name",playerNamePlaceholder:"e.g. John Doe",roomIdToJoin:"Room Code to Join",roomIdPlaceholder:"e.g. abc123",gameMode:"Emotion Mode",basicMode:"Basic Emotions (4 choices)",advancedMode:"Advanced Emotions (8 choices)",speakerOrder:"Speaker Order",sequential:"Sequential",random:"Random",maxRounds:"Number of Rounds",rounds:"rounds"},game:{waitingForHost:"Waiting for host to start the game...",currentSettings:"Current Settings",gameStart:"Start Game",minimumPlayers:"Need 2+ players",starting:"Starting...",youAreSpeaker:"You are the Speaker",performWith:"Please perform:",script:"Script:",emotion:"Emotion:",speakerInstruction:"Read this script with the given emotion. Other players will guess your emotion.",guessEmotion:"Guess the emotion:",vote:"Vote",voteComplete:"Vote Complete!",yourVote:"Your vote:",waitingForOthers:"Waiting for other players...",resultAnnouncement:"Results",correctAnswer:"Correct Answer:",yourAnswer:"Your Answer:",nextRound:"Next Round",preparing:"Preparing...",gameEnd:"Game Over!",finalResults:"Final Results",ranking:"Rankings",totalRounds:"Great job on all {rounds} rounds!",nextGameSettings:"Next Game Settings",playAgain:"Play Again",resetMessage:"Reset scores and start a new game",waitingForNextGame:"Waiting for host to start the next game...",youWereSpeaker:"You were the Speaker",speakerIs:"Speaker:",listenAndGuess:"Listen to the speaker and guess their emotion",youAreSpeakerTitle:"\uD83C\uDFAD You are the Speaker",speakerInstructions:"Read this script with the given emotion. Other players will guess your emotion.",correctEmoji:"\uD83C\uDF89 Correct!",incorrectEmoji:"❌ Incorrect",yourVoteLabel:"Your vote:",correctAnswerLabel:"Correct Answer:",pointsEarned:"+1 point earned!",noPointsThisTime:"No points this time",roundProgress:"Round",nextRoundArrow:"➡️ Next Round",gameEndEmoji:"\uD83C\uDF89 Game Over!",roundsCompleted:"rounds completed",cyclesCompleted:"cycles completed",finalResultsEmoji:"\uD83C\uDFC6 Final Results",allRoundsComplete:"Great job on all {rounds} rounds!",playAgainEmoji:"\uD83D\uDD04 Play Again",peopleCounter:""},emotions:{joy:"Joy",anger:"Anger",sadness:"Sadness",surprise:"Surprise",fear:"Fear",disgust:"Disgust",trust:"Trust",anticipation:"Anticipation"}}}},2979:function(e,t,o){"use strict";o.d(t,{E:function(){return s}});var r=o(4660),a=o(4810);let s=(0,r.Ue)()((0,a.tJ)(e=>({locale:"ja",setLocale:t=>e({locale:t})}),{name:"emoguchi-locale"}))}},function(e){e.O(0,[353,971,158,744],function(){return e(e.s=3136)}),_N_E=e.O()}]);